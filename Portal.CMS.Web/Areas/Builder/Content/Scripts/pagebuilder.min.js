function ExtractSectionId(n) { var i = $(n).attr("id"), t = i.split("-"); return t[t.length - 1] } $(document).ready(function () { $(".add-component").click(function () { var n = $(this).attr("data-sectionid"), i = $("#section-" + n + " .component-container.selected:first").attr("id"), t; i === undefined ? (t = "/Builder/Component/Add?pageSectionId=" + n + "&elementId=section-" + n, showModalEditor("Add Component", t)) : (t = "/Builder/Component/Add?pageSectionId=" + n + "&elementId=" + i, showModalEditor("Add Component", t)) }); $(".admin .component-editor").click(function () { var r = $(this).attr("id"), n = ExtractSectionId($(this)), t = $("#section-" + n + " .component-container.selected:first").attr("id"), i = "/Builder/Container/Edit?pageSectionId=" + n + "&elementId=" + t; showModalEditor("Edit Container Properties", i) }); $(".admin section a").click(function () { var n = $(this).attr("id"), t = ExtractSectionId($(this)), i = "/Builder/Component/Anchor?pageSectionId=" + t + "&elementId=" + n; showModalEditor("Edit Anchor Properties", i) }); $(".admin section p, .admin section h1, .admin section h2, .admin section h3, .admin section h4").click(function (n) { var t = n.target.id, i = ExtractSectionId($(this)), r = "/Builder/Component/Element?sectionId=" + i + "&elementId=" + t; showModalEditor("Edit Element Properties", r) }); $(".admin section .image").click(function (n) { var t = n.target.id, i = ExtractSectionId($(this)), r = "/Builder/Image/Edit?pageSectionId=" + i + "&elementId=" + t; showModalEditor("Edit Image Properties", r) }); $(".admin .component-container").click(function () { var t = $(this).attr("id"), n = ExtractSectionId($(this)); $(this).hasClass("selected") ? ($(this).removeClass("selected"), $("#container-editor-" + n).fadeOut()) : ($(".component-container").removeClass("selected"), $(".component-editor").fadeOut(), $("#container-editor-" + n).fadeIn(), $(this).addClass("selected")) }).children().click(function () { return !1 }); $(".admin section").click(function () { var t = $(this).attr("id"), n = ExtractSectionId($(this)); $(this).find(".component-container").removeClass("selected"); $("#container-editor-" + n).fadeOut() }).children().click(function () { return !1 }) });